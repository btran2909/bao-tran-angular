{"version":3,"sources":["bao-tran-angular/rating/rating.config.ts","bao-tran-angular/rating/rating.component.ts","bao-tran-angular/rating/rating.module.ts"],"names":[],"mappings":"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","file":"vendors~components-rating-demo-rating-module.js","sourcesContent":["import { Injectable } from '@angular/core';\r\n\r\n/** Default values provider for rating */\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class RatingConfig {\r\n  /** aria label for rating */\r\n  ariaLabel = 'rating';\r\n}\r\n","import {\r\n  Component,\r\n  EventEmitter,\r\n  HostListener,\r\n  Input,\r\n  OnInit,\r\n  Output,\r\n  forwardRef, TemplateRef, ChangeDetectionStrategy, ChangeDetectorRef\r\n} from '@angular/core';\r\nimport { ControlValueAccessor, NG_VALUE_ACCESSOR } from '@angular/forms';\r\nimport { AccessorContent, RatingResults } from './models';\r\nimport { RatingConfig } from './rating.config';\r\n\r\nexport const RATING_CONTROL_VALUE_ACCESSOR: AccessorContent = {\r\n  provide: NG_VALUE_ACCESSOR,\r\n  /* tslint:disable-next-line: no-use-before-declare */\r\n  useExisting: forwardRef(() => RatingComponent),\r\n  multi: true\r\n};\r\n\r\n@Component({\r\n  selector: 'rating',\r\n  templateUrl: './rating.component.html',\r\n  providers: [RATING_CONTROL_VALUE_ACCESSOR],\r\n  changeDetection: ChangeDetectionStrategy.OnPush\r\n})\r\nexport class RatingComponent implements ControlValueAccessor, OnInit {\r\n  /** number of icons */\r\n  @Input() max = 5;\r\n  /** if true will not react on any user events */\r\n  @Input() readonly: boolean;\r\n  /** array of icons titles, default: ([\"one\", \"two\", \"three\", \"four\", \"five\"]) */\r\n  @Input() titles: string[];\r\n  /** custom template for icons */\r\n  // tslint:disable-next-line:no-any\r\n  @Input() customTemplate: TemplateRef<any>;\r\n  /** fired when icon selected, $event:number equals to selected rating */\r\n  @Output() onHover: EventEmitter<number> = new EventEmitter();\r\n  /** fired when icon selected, $event:number equals to previous rating value */\r\n  @Output() onLeave: EventEmitter<number> = new EventEmitter();\r\n\r\n  // tslint:disable-next-line:no-any\r\n  onChange: any = Function.prototype;\r\n  // tslint:disable-next-line:no-any\r\n  onTouched: any = Function.prototype;\r\n  /** aria label for rating */\r\n  ariaLabel: string;\r\n  range: RatingResults[];\r\n  value: number;\r\n  protected preValue: number;\r\n\r\n  constructor(private changeDetection: ChangeDetectorRef,\r\n              config: RatingConfig) {\r\n    Object.assign(this, config);\r\n  }\r\n\r\n  @HostListener('keydown', ['$event'])\r\n  onKeydown(event: KeyboardEvent): void {\r\n    /* tslint:disable-next-line: deprecation */\r\n    if ([37, 38, 39, 40].indexOf(event.which) === -1) {\r\n      return;\r\n    }\r\n\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    /* tslint:disable-next-line: deprecation */\r\n    const sign = event.which === 38 || event.which === 39 ? 1 : -1;\r\n    this.rate(this.value + sign);\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.max = typeof this.max !== 'undefined' ? this.max : 5;\r\n    this.titles =\r\n      typeof this.titles !== 'undefined' && this.titles.length > 0\r\n        ? this.titles\r\n        : [];\r\n    this.range = this.buildTemplateObjects(this.max);\r\n  }\r\n\r\n  // model -> view\r\n  writeValue(value: number): void {\r\n    if (value % 1 !== value) {\r\n      this.value = Math.round(value);\r\n      this.preValue = value;\r\n      this.changeDetection.markForCheck();\r\n\r\n      return;\r\n    }\r\n\r\n    this.preValue = value;\r\n    this.value = value;\r\n    this.changeDetection.markForCheck();\r\n  }\r\n\r\n  enter(value: number): void {\r\n    if (!this.readonly) {\r\n      this.value = value;\r\n      this.changeDetection.markForCheck();\r\n      this.onHover.emit(value);\r\n    }\r\n  }\r\n\r\n  reset(): void {\r\n    this.value = Math.round(this.preValue);\r\n    this.changeDetection.markForCheck();\r\n    this.onLeave.emit(this.value);\r\n  }\r\n\r\n  registerOnChange(fn: (_: number) => {}): void {\r\n    this.onChange = fn;\r\n  }\r\n\r\n  registerOnTouched(fn: () => {}): void {\r\n    this.onTouched = fn;\r\n  }\r\n\r\n  rate(value: number): void {\r\n    if (!this.readonly && value >= 0 && value <= this.range.length) {\r\n      this.writeValue(value);\r\n      this.onChange(value);\r\n    }\r\n  }\r\n\r\n  protected buildTemplateObjects(max: number): RatingResults[] {\r\n    const result: RatingResults[] = [];\r\n    for (let i = 0; i < max; i++) {\r\n      result.push({\r\n          index: i,\r\n          title: this.titles[i] || i + 1\r\n        });\r\n    }\r\n\r\n    return result;\r\n  }\r\n}\r\n","import { CommonModule } from '@angular/common';\r\nimport { NgModule, ModuleWithProviders } from '@angular/core';\r\n\r\nimport { RatingComponent } from './rating.component';\r\n\r\n@NgModule({\r\n  imports: [CommonModule],\r\n  declarations: [RatingComponent],\r\n  exports: [RatingComponent]\r\n})\r\nexport class RatingModule {\r\n  static forRoot(): ModuleWithProviders<RatingModule> {\r\n    return {\r\n      ngModule: RatingModule,\r\n      providers: []\r\n    };\r\n  }\r\n}\r\n"],"sourceRoot":"webpack:///"}