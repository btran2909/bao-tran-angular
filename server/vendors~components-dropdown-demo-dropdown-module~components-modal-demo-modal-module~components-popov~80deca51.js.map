{"version":3,"sources":["bao-tran-angular/component-loader/bs-component-ref.class.ts","bao-tran-angular/component-loader/content-ref.class.ts","bao-tran-angular/component-loader/component-loader.class.ts","bao-tran-angular/component-loader/component-loader.factory.ts","bao-tran-angular/positioning/utils/getStyleComputedProperty.ts","bao-tran-angular/positioning/utils/getParentNode.ts","bao-tran-angular/positioning/utils/getScrollParent.ts","bao-tran-angular/positioning/utils/isBrowser.ts","bao-tran-angular/positioning/utils/isIE.ts","bao-tran-angular/positioning/utils/getOffsetParent.ts","bao-tran-angular/positioning/utils/isOffsetContainer.ts","bao-tran-angular/positioning/utils/getRoot.ts","bao-tran-angular/positioning/utils/findCommonOffsetParent.ts","bao-tran-angular/positioning/utils/getBordersSize.ts","bao-tran-angular/positioning/utils/getWindowSizes.ts","bao-tran-angular/positioning/utils/getScroll.ts","bao-tran-angular/positioning/utils/getClientRect.ts","bao-tran-angular/positioning/utils/getBoundingClientRect.ts","bao-tran-angular/positioning/utils/includeScroll.ts","bao-tran-angular/positioning/utils/getOffsetRectRelativeToArbitraryNode.ts","bao-tran-angular/positioning/utils/getViewportOffsetRectRelativeToArtbitraryNode.ts","bao-tran-angular/positioning/utils/isFixed.ts","bao-tran-angular/positioning/utils/getFixedPositionOffsetParent.ts","bao-tran-angular/positioning/utils/getBoundaries.ts","bao-tran-angular/positioning/utils/computeAutoPlacement.ts","bao-tran-angular/positioning/utils/getOffsets.ts","bao-tran-angular/positioning/utils/getOppositePlacement.ts","bao-tran-angular/positioning/utils/getOppositeVariation.ts","bao-tran-angular/positioning/utils/getOuterSizes.ts","bao-tran-angular/positioning/utils/getReferenceOffsets.ts","bao-tran-angular/positioning/utils/getTargetOffsets.ts","bao-tran-angular/positioning/utils/isModifierEnabled.ts","bao-tran-angular/positioning/utils/isNumeric.ts","bao-tran-angular/positioning/utils/updateContainerClass.ts","bao-tran-angular/positioning/utils/setStyles.ts","bao-tran-angular/positioning/modifiers/arrow.ts","bao-tran-angular/positioning/modifiers/flip.ts","bao-tran-angular/positioning/modifiers/initData.ts","bao-tran-angular/positioning/modifiers/preventOverflow.ts","bao-tran-angular/positioning/modifiers/shift.ts","bao-tran-angular/positioning/ng-positioning.ts","bao-tran-angular/positioning/positioning.service.ts"],"names":["runIsIE"],"mappings":"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","file":"vendors~components-dropdown-demo-dropdown-module~components-modal-demo-modal-module~components-popov~80deca51.js","sourcesContent":["import { TemplateRef, ViewContainerRef } from '@angular/core';\r\n\r\nexport class BsComponentRef<T> {\r\n  templateRef: TemplateRef<T>;\r\n  viewContainer: ViewContainerRef;\r\n}\r\n","/**\r\n * @copyright Valor Software\r\n * @copyright Angular ng-bootstrap team\r\n */\r\n\r\nimport { ComponentRef, ViewRef } from '@angular/core';\r\n\r\nexport class ContentRef {\r\n  /* tslint:disable-next-line: no-any */\r\n  nodes: any[];\r\n  viewRef?: ViewRef;\r\n  /* tslint:disable-next-line: no-any */\r\n  componentRef?: ComponentRef<any>;\r\n\r\n  constructor(\r\n    /* tslint:disable-next-line: no-any */\r\n    nodes: any[],\r\n    viewRef?: ViewRef,\r\n    /* tslint:disable-next-line: no-any */\r\n    componentRef?: ComponentRef<any>\r\n  ) {\r\n    this.nodes = nodes;\r\n    this.viewRef = viewRef;\r\n    this.componentRef = componentRef;\r\n  }\r\n}\r\n","// tslint:disable:max-file-line-count\n// todo: add delay support\n// todo: merge events onShow, onShown, etc...\n// todo: add global positioning configuration?\nimport {\n  ApplicationRef,\n  ComponentFactory,\n  ComponentFactoryResolver,\n  ComponentRef,\n  ElementRef,\n  EmbeddedViewRef,\n  EventEmitter,\n  Injector,\n  NgZone,\n  Renderer2,\n  StaticProvider,\n  TemplateRef,\n  Type,\n  ViewContainerRef\n} from '@angular/core';\n\nimport { PositioningOptions, PositioningService } from 'bao-tran-angular/positioning';\n\nimport {\n  listenToTriggersV2,\n  registerEscClick,\n  registerOutsideClick\n} from 'bao-tran-angular/utils';\n\nimport { ContentRef } from './content-ref.class';\nimport { ListenOptions } from './listen-options.model';\nimport { Subscription } from 'rxjs';\n\nexport class ComponentLoader<T> {\n  onBeforeShow: EventEmitter<void> = new EventEmitter();\n  /* tslint:disable-next-line: no-any*/\n  onShown: EventEmitter<any> = new EventEmitter();\n  /* tslint:disable-next-line: no-any*/\n  onBeforeHide: EventEmitter<any> = new EventEmitter();\n  onHidden: EventEmitter<any> = new EventEmitter();\n\n  instance: T;\n  _componentRef: ComponentRef<T>;\n  _inlineViewRef: EmbeddedViewRef<T>;\n\n  private _providers: StaticProvider[] = [];\n  private _componentFactory: ComponentFactory<T>;\n  private _zoneSubscription: Subscription;\n  private _contentRef: ContentRef;\n  private _innerComponent: ComponentRef<T>;\n\n  private _unregisterListenersFn: Function;\n\n  get isShown(): boolean {\n    if (this._isHiding) {\n      return false;\n    }\n\n    return !!this._componentRef;\n  }\n\n  private _isHiding = false;\n\n  /**\n   * Placement of a component. Accepts: \"top\", \"bottom\", \"left\", \"right\"\n   */\n  private attachment: string;\n\n  /**\n   * A selector specifying the element the popover should be appended to.\n   */\n  /* tslint:disable-next-line: no-any*/\n  private container: string | ElementRef | any;\n\n  /**\n   * A selector used if container element was not found\n   */\n  private containerDefaultSelector = 'body';\n\n  /**\n   * Specifies events that should trigger. Supports a space separated list of\n   * event names.\n   */\n  private triggers: string;\n\n  private _listenOpts: ListenOptions = {};\n  private _globalListener = Function.prototype;\n\n  /**\n   * Do not use this directly, it should be instanced via\n   * `ComponentLoadFactory.attach`\n   * @internal\n   */\n  // tslint:disable-next-line\n  public constructor(\n    private _viewContainerRef: ViewContainerRef,\n    private _renderer: Renderer2,\n    private _elementRef: ElementRef,\n    private _injector: Injector,\n    private _componentFactoryResolver: ComponentFactoryResolver,\n    private _ngZone: NgZone,\n    private _applicationRef: ApplicationRef,\n    private _posService: PositioningService\n  ) { }\n\n  attach(compType: Type<T>): ComponentLoader<T> {\n    this._componentFactory = this._componentFactoryResolver\n      .resolveComponentFactory<T>(compType);\n\n    return this;\n  }\n\n  // todo: add behaviour: to target element, `body`, custom element\n  to(container?: string | ElementRef): ComponentLoader<T> {\n    this.container = container || this.container;\n\n    return this;\n  }\n\n  position(opts?: PositioningOptions): ComponentLoader<T> {\n    this.attachment = opts.attachment || this.attachment;\n    /* tslint:disable-next-line: no-unnecessary-type-assertion */\n    this._elementRef = (opts.target as ElementRef) || this._elementRef;\n\n    return this;\n  }\n\n  provide(provider: StaticProvider): ComponentLoader<T> {\n    this._providers.push(provider);\n\n    return this;\n  }\n\n  // todo: appendChild to element or document.querySelector(this.container)\n\n  show(opts: {\n    /* tslint:disable-next-line: no-any*/\n    content?: string | TemplateRef<any>;\n    /* tslint:disable-next-line: no-any*/\n    context?: any;\n    /* tslint:disable-next-line: no-any*/\n    initialState?: any;\n    /* tslint:disable-next-line: no-any*/\n    [key: string]: any;\n    id?: number|string;\n  } = {}\n  ): ComponentRef<T> {\n\n    this._subscribePositioning();\n    this._innerComponent = null;\n\n    if (!this._componentRef) {\n      this.onBeforeShow.emit();\n      this._contentRef = this._getContentRef(opts.content, opts.context, opts.initialState);\n\n      const injector = Injector.create({\n        providers: this._providers,\n        parent: this._injector\n      });\n\n      this._componentRef = this._componentFactory.create(injector, this._contentRef.nodes);\n\n      this._applicationRef.attachView(this._componentRef.hostView);\n      // this._componentRef = this._viewContainerRef\n      //   .createComponent(this._componentFactory, 0, injector, this._contentRef.nodes);\n      this.instance = this._componentRef.instance;\n\n      Object.assign(this._componentRef.instance, opts);\n\n      if (this.container instanceof ElementRef) {\n        this.container.nativeElement.appendChild(\n          this._componentRef.location.nativeElement\n        );\n      }\n\n      if (typeof this.container === 'string' && typeof document !== 'undefined') {\n        const selectedElement = document.querySelector(this.container) ||\n                                document.querySelector(this.containerDefaultSelector);\n\n        selectedElement.appendChild(this._componentRef.location.nativeElement);\n      }\n\n      if (\n        !this.container &&\n        this._elementRef &&\n        this._elementRef.nativeElement.parentElement\n      ) {\n        this._elementRef.nativeElement.parentElement.appendChild(\n          this._componentRef.location.nativeElement\n        );\n      }\n\n      // we need to manually invoke change detection since events registered\n      // via\n      // Renderer::listen() are not picked up by change detection with the\n      // OnPush strategy\n      if (this._contentRef.componentRef) {\n        this._innerComponent = this._contentRef.componentRef.instance;\n        this._contentRef.componentRef.changeDetectorRef.markForCheck();\n        this._contentRef.componentRef.changeDetectorRef.detectChanges();\n      }\n      this._componentRef.changeDetectorRef.markForCheck();\n      this._componentRef.changeDetectorRef.detectChanges();\n\n\n      this.onShown.emit(opts.id ? { id: opts.id } : this._componentRef.instance);\n    }\n\n    this._registerOutsideClick();\n\n    return this._componentRef;\n  }\n\n  hide(id?: number|string): ComponentLoader<T> {\n    if (!this._componentRef) {\n      return this;\n    }\n\n    this._posService.deletePositionElement(this._componentRef.location);\n\n    this.onBeforeHide.emit(this._componentRef.instance);\n\n    const componentEl = this._componentRef.location.nativeElement;\n    componentEl.parentNode.removeChild(componentEl);\n    if (this._contentRef.componentRef) {\n      this._contentRef.componentRef.destroy();\n    }\n\n    if (this._viewContainerRef && this._contentRef.viewRef) {\n      this._viewContainerRef.remove(\n        this._viewContainerRef.indexOf(this._contentRef.viewRef)\n      );\n    }\n    if (this._contentRef.viewRef) {\n      this._contentRef.viewRef.destroy();\n    }\n\n    this._contentRef = null;\n    this._componentRef = null;\n    this._removeGlobalListener();\n\n    this.onHidden.emit(id ? { id } : null);\n\n    return this;\n  }\n\n  toggle(): void {\n    if (this.isShown) {\n      this.hide();\n\n      return;\n    }\n\n    this.show();\n  }\n\n  dispose(): void {\n    if (this.isShown) {\n      this.hide();\n    }\n\n    this._unsubscribePositioning();\n\n    if (this._unregisterListenersFn) {\n      this._unregisterListenersFn();\n    }\n  }\n\n  listen(listenOpts: ListenOptions): ComponentLoader<T> {\n    this.triggers = listenOpts.triggers || this.triggers;\n    this._listenOpts.outsideClick = listenOpts.outsideClick;\n    this._listenOpts.outsideEsc = listenOpts.outsideEsc;\n    listenOpts.target = listenOpts.target || this._elementRef.nativeElement;\n\n    const hide = (this._listenOpts.hide = () =>\n      listenOpts.hide ? listenOpts.hide() : void this.hide());\n    const show = (this._listenOpts.show = (registerHide: Function) => {\n      listenOpts.show ? listenOpts.show(registerHide) : this.show(registerHide);\n      registerHide();\n    });\n\n    const toggle = (registerHide: Function) => {\n      this.isShown ? hide() : show(registerHide);\n    };\n\n    this._unregisterListenersFn = listenToTriggersV2(this._renderer, {\n      target: listenOpts.target,\n      triggers: listenOpts.triggers,\n      show,\n      hide,\n      toggle\n    });\n\n    return this;\n  }\n\n  _removeGlobalListener() {\n    if (this._globalListener) {\n      this._globalListener();\n      this._globalListener = null;\n    }\n  }\n\n  attachInline(\n    vRef: ViewContainerRef,\n    /* tslint:disable-next-line: no-any*/\n    template: TemplateRef<any>\n  ): ComponentLoader<T> {\n    this._inlineViewRef = vRef.createEmbeddedView(template);\n\n    return this;\n  }\n\n  _registerOutsideClick(): void {\n    if (!this._componentRef || !this._componentRef.location) {\n      return;\n    }\n    // why: should run after first event bubble\n    if (this._listenOpts.outsideClick) {\n      const target = this._componentRef.location.nativeElement;\n      setTimeout(() => {\n        this._globalListener = registerOutsideClick(this._renderer, {\n          targets: [target, this._elementRef.nativeElement],\n          outsideClick: this._listenOpts.outsideClick,\n          hide: () => this._listenOpts.hide()\n        });\n      });\n    }\n    if (this._listenOpts.outsideEsc) {\n      const target = this._componentRef.location.nativeElement;\n      this._globalListener = registerEscClick(this._renderer, {\n        targets: [target, this._elementRef.nativeElement],\n        outsideEsc: this._listenOpts.outsideEsc,\n        hide: () => this._listenOpts.hide()\n      });\n    }\n  }\n\n  getInnerComponent(): ComponentRef<T> {\n    return this._innerComponent;\n  }\n\n  private _subscribePositioning(): void {\n    if (this._zoneSubscription || !this.attachment) {\n      return;\n    }\n\n    this.onShown.subscribe(() => {\n      this._posService.position({\n        element: this._componentRef.location,\n        target: this._elementRef,\n        attachment: this.attachment,\n        appendToBody: this.container === 'body'\n      });\n    });\n\n    this._zoneSubscription = this._ngZone.onStable.subscribe(() => {\n      if (!this._componentRef) {\n        return;\n      }\n\n      this._posService.calcPosition();\n    });\n  }\n\n  private _unsubscribePositioning(): void {\n    if (!this._zoneSubscription) {\n      return;\n    }\n\n    this._zoneSubscription.unsubscribe();\n    this._zoneSubscription = null;\n  }\n\n  private _getContentRef(\n    /* tslint:disable-next-line: no-any*/\n    content: string | TemplateRef<any> | any,\n    /* tslint:disable-next-line: no-any*/\n    context?: any,\n    /* tslint:disable-next-line: no-any*/\n    initialState?: any\n  ): ContentRef {\n    if (!content) {\n      return new ContentRef([]);\n    }\n\n    if (content instanceof TemplateRef) {\n      if (this._viewContainerRef) {\n        const _viewRef = this._viewContainerRef\n          .createEmbeddedView<TemplateRef<T>>(content, context);\n        _viewRef.markForCheck();\n\n        return new ContentRef([_viewRef.rootNodes], _viewRef);\n      }\n      const viewRef = content.createEmbeddedView({});\n      this._applicationRef.attachView(viewRef);\n\n      return new ContentRef([viewRef.rootNodes], viewRef);\n    }\n\n    if (typeof content === 'function') {\n      const contentCmptFactory = this._componentFactoryResolver.resolveComponentFactory(\n        content\n      );\n\n      const modalContentInjector = Injector.create({\n        providers: this._providers,\n        parent: this._injector\n      });\n\n      const componentRef = contentCmptFactory.create(modalContentInjector);\n      Object.assign(componentRef.instance, initialState);\n      this._applicationRef.attachView(componentRef.hostView);\n\n      return new ContentRef(\n        [[componentRef.location.nativeElement]],\n        componentRef.hostView,\n        componentRef\n      );\n    }\n\n    return new ContentRef([[this._renderer.createText(`${content}`)]]);\n  }\n}\n","import {\n  ApplicationRef, ComponentFactoryResolver, ElementRef, Injectable, Injector,\n  NgZone, Renderer2, ViewContainerRef\n} from '@angular/core';\nimport { ComponentLoader } from './component-loader.class';\nimport { PositioningService } from 'bao-tran-angular/positioning';\n\n@Injectable()\nexport class ComponentLoaderFactory {\n  constructor(private _componentFactoryResolver: ComponentFactoryResolver,\n              private _ngZone: NgZone,\n              private _injector: Injector,\n              private _posService: PositioningService,\n              private _applicationRef: ApplicationRef) {}\n\n  /**\n   *\n   * @param _elementRef\n   * @param _viewContainerRef\n   * @param _renderer\n   */\n  createLoader<T>(_elementRef: ElementRef,\n                  _viewContainerRef: ViewContainerRef,\n                  _renderer: Renderer2): ComponentLoader<T> {\n    return new ComponentLoader<T>(\n      _viewContainerRef,\n      _renderer,\n      _elementRef,\n      this._injector,\n      this._componentFactoryResolver,\n      this._ngZone,\n      this._applicationRef,\n      this._posService\n    );\n  }\n}\n","/**\r\n * Get CSS computed property of the given element\r\n */\r\nexport function getStyleComputedProperty(element: HTMLElement, property?: string): any {\r\n  if (element.nodeType !== 1) {\r\n    return [];\r\n  }\r\n  // NOTE: 1 DOM access here\r\n  const window = element.ownerDocument.defaultView;\r\n  const css = window.getComputedStyle(element, null);\r\n\r\n  return property ? css[property as any] : css;\r\n}\r\n","/**\r\n * Returns the parentNode or the host of the element\r\n */\r\nexport function getParentNode(element: any): any {\r\n  if (element.nodeName === 'HTML') {\r\n    return element;\r\n  }\r\n\r\n  return element.parentNode || element.host;\r\n}\r\n","/**\r\n * Returns the scrolling parent of the given element\r\n */\r\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\r\nimport { getParentNode } from './getParentNode';\r\n\r\nexport function getScrollParent(element: any): any {\r\n  // Return body, `getScroll` will take care to get the correct `scrollTop` from it\r\n  if (!element) {\r\n    return document.body;\r\n  }\r\n\r\n  switch (element.nodeName) {\r\n    case 'HTML':\r\n    case 'BODY':\r\n      return element.ownerDocument.body;\r\n    case '#document':\r\n      return element.body;\r\n    default:\r\n  }\r\n\r\n  // Firefox want us to check `-x` and `-y` variations as well\r\n  const { overflow, overflowX, overflowY } = getStyleComputedProperty(element);\r\n  if (/(auto|scroll|overlay)/.test(String(overflow) + String(overflowY) + String(overflowX))) {\r\n    return element;\r\n  }\r\n\r\n  return getScrollParent(getParentNode(element));\r\n}\r\n","export const isBrowser = typeof window !== 'undefined' && typeof document !== 'undefined';\r\n","/**\r\n * Determines if the browser is Internet Explorer\r\n */\r\nimport { isBrowser } from './isBrowser';\r\n\r\nconst isIE11 = isBrowser && !!((window as any).MSInputMethodContext && (document as any).documentMode);\r\nconst isIE10 = isBrowser && !!((window as any).MSInputMethodContext && /MSIE 10/.test((navigator as any).userAgent));\r\n\r\nexport function isIE(version?: number) {\r\n  if (version === 11) {\r\n    return isIE11;\r\n  }\r\n  if (version === 10) {\r\n    return isIE10;\r\n  }\r\n\r\n  return isIE11 || isIE10;\r\n}\r\n","/**\r\n * Returns the offset parent of the given element\r\n */\r\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\r\nimport { isIE } from './isIE';\r\n\r\nexport function getOffsetParent(element: any): any {\r\n  if (!element) {\r\n    return document.documentElement;\r\n  }\r\n\r\n  const noOffsetParent = isIE(10) ? document.body : null;\r\n\r\n  // NOTE: 1 DOM access here\r\n  let offsetParent = element.offsetParent || null;\r\n\r\n  // Skip hidden elements which don't have an offsetParent\r\n  let sibling: HTMLElement | null;\r\n\r\n  while (offsetParent === noOffsetParent\r\n         && element.nextElementSibling\r\n         && sibling !== element.nextElementSibling) {\r\n\r\n      sibling = element.nextElementSibling;\r\n      offsetParent = sibling.offsetParent;\r\n    }\r\n\r\n  const nodeName = offsetParent && offsetParent.nodeName;\r\n\r\n  if (!nodeName || nodeName === 'BODY' || nodeName === 'HTML') {\r\n    return sibling ? sibling.ownerDocument.documentElement : document.documentElement;\r\n  }\r\n\r\n  // .offsetParent will return the closest TH, TD or TABLE in case\r\n  if (\r\n    ['TH', 'TD', 'TABLE'].indexOf(offsetParent.nodeName) !== -1 &&\r\n    getStyleComputedProperty(offsetParent, 'position') === 'static'\r\n  ) {\r\n    return getOffsetParent(offsetParent);\r\n  }\r\n\r\n  return offsetParent;\r\n}\r\n","import { getOffsetParent } from './getOffsetParent';\r\n\r\nexport function isOffsetContainer(element: any) {\r\n  const { nodeName } = element;\r\n  if (nodeName === 'BODY') {\r\n    return false;\r\n  }\r\n\r\n  return (\r\n    nodeName === 'HTML' || getOffsetParent(element.firstElementChild) === element\r\n  );\r\n}\r\n","/**\r\n * Finds the root node (document, shadowDOM root) of the given element\r\n */\r\nexport function getRoot(node: Node): any {\r\n  if (node.parentNode !== null) {\r\n    return getRoot(node.parentNode);\r\n  }\r\n\r\n  return node;\r\n}\r\n","/**\r\n * Finds the offset parent common to the two provided nodes\r\n */\r\nimport { isOffsetContainer } from './isOffsetContainer';\r\nimport { getRoot } from './getRoot';\r\nimport { getOffsetParent } from './getOffsetParent';\r\n\r\nexport function findCommonOffsetParent(element1: HTMLElement, element2: HTMLElement): any {\r\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\r\n  if (!element1 || !element1.nodeType || !element2 || !element2.nodeType) {\r\n    return document.documentElement;\r\n  }\r\n\r\n  // Here we make sure to give as \"start\" the element that comes first in the DOM\r\n  /* tslint:disable-next-line: no-bitwise */\r\n  const order = element1.compareDocumentPosition(element2) & Node.DOCUMENT_POSITION_FOLLOWING;\r\n\r\n  const start = order ? element1 : element2;\r\n  const end = order ? element2 : element1;\r\n\r\n  // Get common ancestor container\r\n  const range = document.createRange();\r\n  range.setStart(start, 0);\r\n  range.setEnd(end, 0);\r\n  const { commonAncestorContainer } = range;\r\n\r\n  // Both nodes are inside #document\r\n  if (\r\n    (element1 !== commonAncestorContainer &&\r\n      element2 !== commonAncestorContainer) ||\r\n    start.contains(end)\r\n  ) {\r\n    if (isOffsetContainer(commonAncestorContainer)) {\r\n      return commonAncestorContainer;\r\n    }\r\n\r\n    return getOffsetParent(commonAncestorContainer);\r\n  }\r\n\r\n  // one of the nodes is inside shadowDOM, find which one\r\n  const element1root = getRoot(element1);\r\n  if (element1root.host) {\r\n    return findCommonOffsetParent(element1root.host, element2);\r\n  } else {\r\n    return findCommonOffsetParent(element1, getRoot(element2).host);\r\n  }\r\n}\r\n","/**\r\n * Helper to detect borders of a given element\r\n */\r\n\r\nexport function getBordersSize(styles: CSSStyleDeclaration, axis: string) {\r\n  const sideA = axis === 'x' ? 'Left' : 'Top';\r\n  const sideB = sideA === 'Left' ? 'Right' : 'Bottom';\r\n\r\n  return (\r\n    parseFloat(styles[`border${sideA}Width` as any]) +\r\n    parseFloat(styles[`border${sideB}Width` as any])\r\n  );\r\n}\r\n","import { isIE } from './isIE';\r\n\r\nfunction getSize(axis: string, body: HTMLElement, html: HTMLElement, computedStyle: CSSStyleDeclaration) {\r\n  return Math.max(\r\n    (body as any)[`offset${axis}`],\r\n    (body as any)[`scroll${axis}`],\r\n    (html as any)[`client${axis}`],\r\n    (html as any)[`offset${axis}`],\r\n    (html as any)[`scroll${axis}`],\r\n    isIE(10)\r\n      ? (parseInt((html as any)[`offset${axis}`], 10) +\r\n      parseInt(computedStyle[`margin${axis === 'Height' ? 'Top' : 'Left'}` as any], 10) +\r\n      parseInt(computedStyle[`margin${axis === 'Height' ? 'Bottom' : 'Right'}` as any], 10))\r\n    : 0\r\n  );\r\n}\r\n\r\nexport function getWindowSizes(document: Document) {\r\n  const body = document.body;\r\n  const html = document.documentElement;\r\n  const computedStyle = isIE(10) && getComputedStyle(html);\r\n\r\n  return {\r\n    height: getSize('Height', body, html, computedStyle),\r\n    width: getSize('Width', body, html, computedStyle)\r\n  };\r\n}\r\n","/**\r\n * Gets the scroll value of the given element in the given side (top and left)\r\n */\r\nexport function getScroll(element: HTMLElement, side = 'top') {\r\n  const upperSide = side === 'top' ? 'scrollTop' : 'scrollLeft';\r\n  const nodeName = element.nodeName;\r\n\r\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\r\n    const html = element.ownerDocument.documentElement;\r\n    const scrollingElement = element.ownerDocument.scrollingElement || html;\r\n\r\n    return scrollingElement[upperSide];\r\n  }\r\n\r\n  return element[upperSide];\r\n}\r\n","/**\r\n * Given element offsets, generate an output similar to getBoundingClientRect\r\n */\r\nimport { Offsets } from '../models';\r\n\r\nexport function getClientRect(offsets: Offsets): Offsets {\r\n  return {\r\n    ...offsets,\r\n    right: offsets.left + offsets.width,\r\n    bottom: offsets.top + offsets.height\r\n  };\r\n}\r\n","/**\r\n * Get bounding client rect of given element\r\n */\r\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\r\nimport { getBordersSize } from './getBordersSize';\r\nimport { getWindowSizes } from './getWindowSizes';\r\nimport { getScroll } from './getScroll';\r\nimport { getClientRect } from './getClientRect';\r\nimport { isIE } from './isIE';\r\nimport { Offsets } from '../models';\r\n\r\nexport function getBoundingClientRect(element: HTMLElement): Offsets {\r\n  let rect: any = {};\r\n\r\n  // IE10 10 FIX: Please, don't ask, the element isn't\r\n  // considered in DOM in some circumstances...\r\n  // This isn't reproducible in IE10 compatibility mode of IE11\r\n  try {\r\n    if (isIE(10)) {\r\n      rect = element.getBoundingClientRect();\r\n      const scrollTop = getScroll(element, 'top');\r\n      const scrollLeft = getScroll(element, 'left');\r\n      rect.top += scrollTop;\r\n      rect.left += scrollLeft;\r\n      rect.bottom += scrollTop;\r\n      rect.right += scrollLeft;\r\n    } else {\r\n      rect = element.getBoundingClientRect();\r\n    }\r\n  } catch (e) {\r\n    return undefined;\r\n  }\r\n\r\n  const result: any = {\r\n    left: rect.left,\r\n    top: rect.top,\r\n    width: rect.right - rect.left,\r\n    height: rect.bottom - rect.top\r\n  };\r\n\r\n  // subtract scrollbar size from sizes\r\n  const sizes: any = element.nodeName === 'HTML' ? getWindowSizes(element.ownerDocument) : {};\r\n  const width =\r\n    sizes.width || element.clientWidth || result.right - result.left;\r\n  const height =\r\n    sizes.height || element.clientHeight || result.bottom - result.top;\r\n\r\n  let horizScrollbar = element.offsetWidth - width;\r\n  let vertScrollbar = element.offsetHeight - height;\r\n\r\n  // if an hypothetical scrollbar is detected, we must be sure it's not a `border`\r\n  // we make this check conditional for performance reasons\r\n  if (horizScrollbar || vertScrollbar) {\r\n    const styles = getStyleComputedProperty(element);\r\n    horizScrollbar -= getBordersSize(styles, 'x');\r\n    vertScrollbar -= getBordersSize(styles, 'y');\r\n\r\n    result.width -= horizScrollbar;\r\n    result.height -= vertScrollbar;\r\n  }\r\n\r\n  return getClientRect(result);\r\n}\r\n","/**\r\n * Sum or subtract the element scroll values (left and top) from a given rect object\r\n */\r\nimport { getScroll } from './getScroll';\r\nimport { Offsets } from '../models';\r\n\r\nexport function includeScroll(rect: Offsets, element: HTMLElement, subtract = false) {\r\n  const scrollTop = getScroll(element, 'top');\r\n  const scrollLeft = getScroll(element, 'left');\r\n  const modifier = subtract ? -1 : 1;\r\n  rect.top += scrollTop * modifier;\r\n  rect.bottom += scrollTop * modifier;\r\n  rect.left += scrollLeft * modifier;\r\n  rect.right += scrollLeft * modifier;\r\n\r\n  return rect;\r\n}\r\n","import { getBoundingClientRect } from './getBoundingClientRect';\r\nimport { getClientRect } from './getClientRect';\r\nimport { getScrollParent } from './getScrollParent';\r\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\r\nimport { includeScroll } from './includeScroll';\r\nimport { isIE as runIsIE } from './isIE';\r\nimport { Offsets } from '../models';\r\n\r\nexport function getOffsetRectRelativeToArbitraryNode(\r\n  children: HTMLElement,\r\n  parent: HTMLElement,\r\n  fixedPosition = false\r\n): Offsets {\r\n  const isIE10 = runIsIE(10);\r\n  const isHTML = parent.nodeName === 'HTML';\r\n  const childrenRect: any = getBoundingClientRect(children);\r\n  const parentRect: any = getBoundingClientRect(parent);\r\n  const scrollParent = getScrollParent(children);\r\n\r\n  const styles = getStyleComputedProperty(parent);\r\n  const borderTopWidth = parseFloat(styles.borderTopWidth);\r\n  const borderLeftWidth = parseFloat(styles.borderLeftWidth);\r\n\r\n  // In cases where the parent is fixed, we must ignore negative scroll in offset calc\r\n  if (fixedPosition && isHTML) {\r\n    parentRect.top = Math.max(parentRect.top, 0);\r\n    parentRect.left = Math.max(parentRect.left, 0);\r\n  }\r\n\r\n  let offsets: Offsets = getClientRect({\r\n    top: childrenRect.top - parentRect.top - borderTopWidth,\r\n    left: childrenRect.left - parentRect.left - borderLeftWidth,\r\n    width: childrenRect.width,\r\n    height: childrenRect.height\r\n  });\r\n\r\n  offsets.marginTop = 0;\r\n  offsets.marginLeft = 0;\r\n\r\n  // Subtract margins of documentElement in case it's being used as parent\r\n  // we do this only on HTML because it's the only element that behaves\r\n  // differently when margins are applied to it. The margins are included in\r\n  // the box of the documentElement, in the other cases not.\r\n  if (!isIE10 && isHTML) {\r\n    const marginTop = parseFloat(styles.marginTop);\r\n    const marginLeft = parseFloat(styles.marginLeft);\r\n\r\n    offsets.top -= borderTopWidth - marginTop;\r\n    offsets.bottom -= borderTopWidth - marginTop;\r\n    offsets.left -= borderLeftWidth - marginLeft;\r\n    offsets.right -= borderLeftWidth - marginLeft;\r\n\r\n    // Attach marginTop and marginLeft because in some circumstances we may need them\r\n    offsets.marginTop = marginTop;\r\n    offsets.marginLeft = marginLeft;\r\n  }\r\n\r\n  if (\r\n    isIE10 && !fixedPosition\r\n      ? parent.contains(scrollParent)\r\n      : parent === scrollParent && scrollParent.nodeName !== 'BODY'\r\n  ) {\r\n    offsets = includeScroll(offsets, parent);\r\n  }\r\n\r\n  return offsets;\r\n}\r\n","import { getClientRect } from './getClientRect';\r\nimport { getOffsetRectRelativeToArbitraryNode } from './getOffsetRectRelativeToArbitraryNode';\r\nimport { getScroll } from './getScroll';\r\nimport { Offsets } from '../models';\r\n\r\nexport function getViewportOffsetRectRelativeToArtbitraryNode(element: HTMLElement, excludeScroll = false): Offsets {\r\n  const html = element.ownerDocument.documentElement;\r\n  const relativeOffset = getOffsetRectRelativeToArbitraryNode(element, html);\r\n  const width = Math.max(html.clientWidth, window.innerWidth || 0);\r\n  const height = Math.max(html.clientHeight, window.innerHeight || 0);\r\n\r\n  const scrollTop = !excludeScroll ? getScroll(html) : 0;\r\n  const scrollLeft = !excludeScroll ? getScroll(html, 'left') : 0;\r\n\r\n  const offset = {\r\n    top: scrollTop - Number(relativeOffset.top) + Number(relativeOffset.marginTop),\r\n    left: scrollLeft - Number(relativeOffset.left) + Number(relativeOffset.marginLeft),\r\n    width,\r\n    height\r\n  };\r\n\r\n  return getClientRect(offset);\r\n}\r\n","/**\r\n * Check if the given element is fixed or is inside a fixed parent\r\n */\r\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\r\nimport { getParentNode } from './getParentNode';\r\n\r\nexport function isFixed(element: HTMLElement): boolean {\r\n  const nodeName = element.nodeName;\r\n  if (nodeName === 'BODY' || nodeName === 'HTML') {\r\n    return false;\r\n  }\r\n  if (getStyleComputedProperty(element, 'position') === 'fixed') {\r\n    return true;\r\n  }\r\n\r\n  return isFixed(getParentNode(element));\r\n}\r\n","/**\r\n * Finds the first parent of an element that has a transformed property defined\r\n */\r\n\r\nimport { getStyleComputedProperty } from './getStyleComputedProperty';\r\nimport { isIE } from './isIE';\r\n\r\nexport function getFixedPositionOffsetParent(element: HTMLElement): HTMLElement {\r\n  // This check is needed to avoid errors in case one of the elements isn't defined for any reason\r\n  if (!element || !element.parentElement || isIE()) {\r\n   return document.documentElement;\r\n  }\r\n\r\n  let el = element.parentElement;\r\n\r\n  while (el && getStyleComputedProperty(el, 'transform') === 'none') {\r\n    el = el.parentElement;\r\n  }\r\n\r\n  return el || document.documentElement;\r\n}\r\n","/**\r\n * Computed the boundaries limits and return them\r\n */\r\nimport { getScrollParent } from './getScrollParent';\r\nimport { getParentNode } from './getParentNode';\r\nimport { findCommonOffsetParent } from './findCommonOffsetParent';\r\nimport { getOffsetRectRelativeToArbitraryNode } from './getOffsetRectRelativeToArbitraryNode';\r\nimport { getViewportOffsetRectRelativeToArtbitraryNode } from './getViewportOffsetRectRelativeToArtbitraryNode';\r\nimport { getWindowSizes } from './getWindowSizes';\r\nimport { isFixed } from './isFixed';\r\nimport { getFixedPositionOffsetParent } from './getFixedPositionOffsetParent';\r\n\r\nexport function getBoundaries(\r\n  target: HTMLElement,\r\n  host: HTMLElement,\r\n  padding = 0,\r\n  boundariesElement: string,\r\n  fixedPosition = false\r\n) {\r\n  // NOTE: 1 DOM access here\r\n\r\n  let boundaries: any = { top: 0, left: 0 };\r\n  const offsetParent = fixedPosition ? getFixedPositionOffsetParent(target) : findCommonOffsetParent(target, host);\r\n\r\n  // Handle viewport case\r\n  if (boundariesElement === 'viewport') {\r\n    boundaries = getViewportOffsetRectRelativeToArtbitraryNode(offsetParent, fixedPosition);\r\n  } else {\r\n    // Handle other cases based on DOM element used as boundaries\r\n    let boundariesNode;\r\n    if (boundariesElement === 'scrollParent') {\r\n      boundariesNode = getScrollParent(getParentNode(host));\r\n      if (boundariesNode.nodeName === 'BODY') {\r\n        boundariesNode = target.ownerDocument.documentElement;\r\n      }\r\n    } else if (boundariesElement === 'window') {\r\n      boundariesNode = target.ownerDocument.documentElement;\r\n    } else {\r\n      boundariesNode = boundariesElement;\r\n    }\r\n\r\n    const offsets = getOffsetRectRelativeToArbitraryNode(\r\n      boundariesNode,\r\n      offsetParent,\r\n      fixedPosition\r\n    );\r\n\r\n    // In case of HTML, we need a different computation\r\n    if (boundariesNode.nodeName === 'HTML' && !isFixed(offsetParent)) {\r\n      const { height, width } = getWindowSizes(target.ownerDocument);\r\n      boundaries.top += offsets.top - offsets.marginTop;\r\n      boundaries.bottom = Number(height) + Number(offsets.top);\r\n      boundaries.left += offsets.left - offsets.marginLeft;\r\n      boundaries.right = Number(width) + Number(offsets.left);\r\n    } else {\r\n      // for all the other DOM elements, this one is good\r\n      boundaries = offsets;\r\n    }\r\n  }\r\n\r\n  // Add paddings\r\n  boundaries.left += padding;\r\n  boundaries.top += padding;\r\n  boundaries.right -= padding;\r\n  boundaries.bottom -= padding;\r\n\r\n  return boundaries;\r\n}\r\n","/**\r\n * Utility used to transform the `auto` placement to the placement with more\r\n * available space.\r\n */\r\nimport { getBoundaries } from './getBoundaries';\r\nimport { Offsets } from '../models';\r\n\r\nfunction getArea({ width, height }: { [key: string]: number }) {\r\n  return width * height;\r\n}\r\n\r\nexport function computeAutoPlacement(\r\n  placement: string,\r\n  refRect: Offsets,\r\n  target: HTMLElement,\r\n  host: HTMLElement,\r\n  allowedPositions: any[] = ['top', 'bottom', 'right', 'left'],\r\n  boundariesElement = 'viewport',\r\n  padding = 0\r\n) {\r\n  if (placement.indexOf('auto') === -1) {\r\n    return placement;\r\n  }\r\n\r\n  const boundaries = getBoundaries(target, host, padding, boundariesElement);\r\n\r\n  const rects: any = {\r\n    top: {\r\n      width: boundaries.width,\r\n      height: refRect.top - boundaries.top\r\n    },\r\n    right: {\r\n      width: boundaries.right - refRect.right,\r\n      height: boundaries.height\r\n    },\r\n    bottom: {\r\n      width: boundaries.width,\r\n      height: boundaries.bottom - refRect.bottom\r\n    },\r\n    left: {\r\n      width: refRect.left - boundaries.left,\r\n      height: boundaries.height\r\n    }\r\n  };\r\n\r\n  const sortedAreas = Object.keys(rects)\r\n    .map(key => ({\r\n      key,\r\n      ...rects[key],\r\n      area: getArea(rects[key])\r\n    }))\r\n    .sort((a, b) => b.area - a.area);\r\n\r\n  let filteredAreas: any[] = sortedAreas.filter(\r\n    ({ width, height }) => {\r\n      return width >= target.clientWidth\r\n        && height >= target.clientHeight;\r\n    }\r\n  );\r\n\r\n  filteredAreas = filteredAreas.filter((position: any) => {\r\n    return allowedPositions\r\n      .some((allowedPosition: string) => {\r\n        return allowedPosition === position.key;\r\n      });\r\n  });\r\n\r\n  const computedPlacement: string = filteredAreas.length > 0\r\n    ? filteredAreas[0].key\r\n    : sortedAreas[0].key;\r\n\r\n  const variation = placement.split(' ')[1];\r\n\r\n  // for tooltip on auto position\r\n  target.className = target.className.replace(/bs-tooltip-auto/g, `bs-tooltip-${computedPlacement}`);\r\n\r\n  return computedPlacement + (variation ? `-${variation}` : '');\r\n}\r\n","import { Data, Offsets } from '../models';\r\n\r\nexport function getOffsets(data: Data): Offsets {\r\n  return {\r\n    width: data.offsets.target.width,\r\n    height: data.offsets.target.height,\r\n    left: Math.floor(data.offsets.target.left),\r\n    top: Math.round(data.offsets.target.top),\r\n    bottom: Math.round(data.offsets.target.bottom),\r\n    right: Math.floor(data.offsets.target.right)\r\n  };\r\n}\r\n","/**\r\n * Get the opposite placement of the given one\r\n */\r\nexport function getOppositePlacement(placement: string) {\r\n  const hash = { left: 'right', right: 'left', bottom: 'top', top: 'bottom' };\r\n\r\n  return placement.replace(/left|right|bottom|top/g, matched => (hash as any)[matched]);\r\n}\r\n","/**\r\n * Get the opposite placement variation of the given one\r\n */\r\nexport function getOppositeVariation(variation: string) {\r\n  if (variation === 'right') {\r\n    return 'left';\r\n  } else if (variation === 'left') {\r\n    return 'right';\r\n  }\r\n\r\n  return variation;\r\n}\r\n","/**\r\n * Get the outer sizes of the given element (offset size + margins)\r\n */\r\nexport function getOuterSizes(element: any) {\r\n  const window = element.ownerDocument.defaultView;\r\n  const styles = window.getComputedStyle(element);\r\n  const x = parseFloat(styles.marginTop || 0) + parseFloat(styles.marginBottom || 0);\r\n  const y = parseFloat(styles.marginLeft || 0) + parseFloat(styles.marginRight || 0);\r\n\r\n  return {\r\n    width: Number(element.offsetWidth) + y,\r\n    height: Number(element.offsetHeight) + x\r\n  };\r\n}\r\n","/**\r\n * Get offsets to the reference element\r\n */\r\nimport { findCommonOffsetParent } from './findCommonOffsetParent';\r\nimport { getOffsetRectRelativeToArbitraryNode } from './getOffsetRectRelativeToArbitraryNode';\r\nimport { getFixedPositionOffsetParent } from './getFixedPositionOffsetParent';\r\nimport { Offsets } from '../models';\r\n\r\nexport function getReferenceOffsets(\r\n  target: HTMLElement,\r\n  host: HTMLElement,\r\n  fixedPosition: boolean = null\r\n): Offsets {\r\n  const commonOffsetParent = fixedPosition\r\n    ? getFixedPositionOffsetParent(target)\r\n    : findCommonOffsetParent(target, host);\r\n\r\n  return getOffsetRectRelativeToArbitraryNode(host, commonOffsetParent, fixedPosition);\r\n}\r\n","/**\r\n * Get offsets to the target\r\n */\r\nimport { getOppositePlacement } from './getOppositePlacement';\r\nimport { getOuterSizes } from './getOuterSizes';\r\nimport { Offsets } from '../models';\r\n\r\nexport function getTargetOffsets(\r\n  target: HTMLElement,\r\n  hostOffsets: Offsets,\r\n  position: string\r\n): Offsets {\r\n  const placement = position.split(' ')[0];\r\n\r\n  // Get target node sizes\r\n  const targetRect = getOuterSizes(target);\r\n\r\n  // Add position, width and height to our offsets object\r\n  const targetOffsets = {\r\n    width: targetRect.width,\r\n    height: targetRect.height\r\n  };\r\n\r\n  // depending by the target placement we have to compute its offsets slightly differently\r\n  const isHoriz = ['right', 'left'].indexOf(placement) !== -1;\r\n  const mainSide = isHoriz ? 'top' : 'left';\r\n  const secondarySide = isHoriz ? 'left' : 'top';\r\n  const measurement = isHoriz ? 'height' : 'width';\r\n  const secondaryMeasurement = !isHoriz ? 'height' : 'width';\r\n\r\n  (targetOffsets as any)[mainSide] =\r\n    hostOffsets[mainSide] +\r\n    hostOffsets[measurement] / 2 -\r\n    targetRect[measurement] / 2;\r\n\r\n  (targetOffsets as any)[secondarySide] = placement === secondarySide\r\n    ? hostOffsets[secondarySide] - targetRect[secondaryMeasurement]\r\n    : (hostOffsets as any)[getOppositePlacement(secondarySide)];\r\n\r\n  return targetOffsets;\r\n}\r\n","/**\r\n * Helper used to know if the given modifier is enabled.\r\n */\r\nexport function isModifierEnabled(options: any, modifierName: string) {\r\n  return options\r\n    && options.modifiers\r\n    && options.modifiers[modifierName]\r\n    && options.modifiers[modifierName].enabled;\r\n}\r\n","/**\r\n * Tells if a given input is a number\r\n */\r\nexport function isNumeric(n: any) {\r\n  return n !== '' && !isNaN(parseFloat(n)) && isFinite(n);\r\n}\r\n","/**\r\n * Update class for the given popper\r\n */\r\nimport { Renderer2 } from '@angular/core';\r\nimport { Data } from '../models';\r\n\r\nexport function updateContainerClass(data: Data, renderer?: Renderer2): void {\r\n  const target = data.instance.target;\r\n\r\n  let containerClass = target.className;\r\n\r\n  if (data.placementAuto) {\r\n    containerClass = containerClass.replace(/bs-popover-auto/g, `bs-popover-${data.placement}`);\r\n    containerClass = containerClass.replace(/bs-tooltip-auto/g, `bs-tooltip-${data.placement}`);\r\n    containerClass = containerClass.replace(/\\sauto/g, ` ${data.placement}`);\r\n\r\n    if (containerClass.indexOf('popover') !== -1 && containerClass.indexOf('popover-auto') === -1) {\r\n      containerClass += ' popover-auto';\r\n    }\r\n\r\n    if (containerClass.indexOf('tooltip') !== -1  && containerClass.indexOf('tooltip-auto') === -1) {\r\n      containerClass += ' tooltip-auto';\r\n    }\r\n  }\r\n\r\n  containerClass = containerClass.replace(/left|right|top|bottom/g, `${data.placement.split(' ')[0]}`);\r\n\r\n  if (renderer) {\r\n    renderer.setAttribute(target, 'class', containerClass);\r\n\r\n    return;\r\n  }\r\n\r\n  target.className = containerClass;\r\n}\r\n","/**\r\n * Set the style to the given popper\r\n */\r\nimport { Renderer2 } from '@angular/core';\r\n\r\nimport { isNumeric } from './isNumeric';\r\n\r\nexport function setStyles(element: HTMLElement, styles: any, renderer?: Renderer2) {\r\n  Object.keys(styles).forEach((prop: any) => {\r\n    let unit = '';\r\n    // add unit if the value is numeric and is one of the following\r\n    if (['width', 'height', 'top', 'right', 'bottom', 'left'].indexOf(prop) !== -1 &&\r\n      isNumeric(styles[prop])) {\r\n      unit = 'px';\r\n    }\r\n\r\n    if (renderer) {\r\n      renderer.setStyle(element, prop, `${String(styles[prop])}${unit}`);\r\n\r\n      return;\r\n    }\r\n\r\n    element.style[prop] = String(styles[prop]) + unit;\r\n  });\r\n}\r\n","import { getClientRect, getOuterSizes, getStyleComputedProperty } from '../utils';\r\nimport { Data } from '../models';\r\n\r\nexport function arrow(data: Data) {\r\n  let targetOffsets = data.offsets.target;\r\n  // if arrowElement is a string, suppose it's a CSS selector\r\n  const arrowElement: HTMLElement | null = data.instance.target.querySelector('.arrow');\r\n\r\n  // if arrowElement is not found, don't run the modifier\r\n  if (!arrowElement) {\r\n    return data;\r\n  }\r\n\r\n  const isVertical = ['left', 'right'].indexOf(data.placement.split(' ')[0]) !== -1;\r\n\r\n  const len = isVertical ? 'height' : 'width';\r\n  const sideCapitalized = isVertical ? 'Top' : 'Left';\r\n  const side = sideCapitalized.toLowerCase();\r\n  const altSide = isVertical ? 'left' : 'top';\r\n  const opSide = isVertical ? 'bottom' : 'right';\r\n  const arrowElementSize = getOuterSizes(arrowElement)[len];\r\n  const placementVariation = data.placement.split(' ')[1];\r\n\r\n  // top/left side\r\n  if (data.offsets.host[opSide] - arrowElementSize < (targetOffsets as any)[side]) {\r\n    (targetOffsets as any)[side] -=\r\n      (targetOffsets as any)[side] - (data.offsets.host[opSide] - arrowElementSize);\r\n  }\r\n  // bottom/right side\r\n  if (Number((data as any).offsets.host[side]) + Number(arrowElementSize) > (targetOffsets as any)[opSide]) {\r\n    (targetOffsets as any)[side] +=\r\n      Number((data as any).offsets.host[side]) + Number(arrowElementSize) - Number((targetOffsets as any)[opSide]);\r\n  }\r\n  targetOffsets = getClientRect(targetOffsets);\r\n\r\n  // Compute the sideValue using the updated target offsets\r\n  // take target margin in account because we don't have this info available\r\n  const css = getStyleComputedProperty(data.instance.target);\r\n  const targetMarginSide = parseFloat(css[`margin${sideCapitalized}`]);\r\n  const targetBorderSide = parseFloat(css[`border${sideCapitalized}Width`]);\r\n\r\n  // compute center of the target\r\n  let center: number;\r\n  if (!placementVariation) {\r\n    center = Number((data as any).offsets.host[side]) + Number(data.offsets.host[len] / 2 - arrowElementSize / 2);\r\n  } else {\r\n    const targetBorderRadius = parseFloat(css.borderRadius);\r\n    const targetSideArrowOffset = Number(targetMarginSide + targetBorderSide + targetBorderRadius);\r\n    center = side === placementVariation ?\r\n      Number((data as any).offsets.host[side]) + targetSideArrowOffset :\r\n      Number((data as any).offsets.host[side]) + Number(data.offsets.host[len] - targetSideArrowOffset);\r\n  }\r\n\r\n  let sideValue =\r\n    center - (targetOffsets as any)[side] - targetMarginSide - targetBorderSide;\r\n\r\n  // prevent arrowElement from being placed not contiguously to its target\r\n  sideValue = Math.max(Math.min(targetOffsets[len] - arrowElementSize, sideValue), 0);\r\n\r\n  data.offsets.arrow = {\r\n    [side]: Math.round(sideValue),\r\n    [altSide]: '' // make sure to unset any eventual altSide value from the DOM node\r\n  };\r\n\r\n  data.instance.arrow = arrowElement;\r\n\r\n  return data;\r\n}\r\n","import {\r\n  computeAutoPlacement,\r\n  getBoundaries,\r\n  getClientRect,\r\n  getOppositeVariation,\r\n  getTargetOffsets,\r\n  isModifierEnabled\r\n} from '../utils';\r\n\r\nimport { Data } from '../models';\r\n\r\nexport function flip(data: Data): Data {\r\n  data.offsets.target = getClientRect(data.offsets.target);\r\n\r\n  if (!isModifierEnabled(data.options, 'flip')) {\r\n\r\n    data.offsets.target = {\r\n      ...data.offsets.target,\r\n      ...getTargetOffsets(\r\n        data.instance.target,\r\n        data.offsets.host,\r\n        data.placement\r\n      )\r\n    };\r\n\r\n    return data;\r\n  }\r\n\r\n  const boundaries = getBoundaries(\r\n    data.instance.target,\r\n    data.instance.host,\r\n    0, // padding\r\n    'viewport',\r\n    false // positionFixed\r\n  );\r\n\r\n  let placement = data.placement.split(' ')[0];\r\n  let variation = data.placement.split(' ')[1] || '';\r\n\r\n  const offsetsHost = data.offsets.host;\r\n  const target = data.instance.target;\r\n  const host = data.instance.host;\r\n\r\n  const adaptivePosition = computeAutoPlacement('auto', offsetsHost, target, host, data.options.allowedPositions);\r\n  const flipOrder = [placement, adaptivePosition];\r\n\r\n  /* tslint:disable-next-line: cyclomatic-complexity */\r\n  flipOrder.forEach((step, index) => {\r\n    if (placement !== step || flipOrder.length === index + 1) {\r\n      return data;\r\n    }\r\n\r\n    placement = data.placement.split(' ')[0];\r\n\r\n    // using floor because the host offsets may contain decimals we are not going to consider here\r\n    const overlapsRef =\r\n      (placement === 'left' &&\r\n        Math.floor(data.offsets.target.right) > Math.floor(data.offsets.host.left)) ||\r\n      (placement === 'right' &&\r\n        Math.floor(data.offsets.target.left) < Math.floor(data.offsets.host.right)) ||\r\n      (placement === 'top' &&\r\n        Math.floor(data.offsets.target.bottom) > Math.floor(data.offsets.host.top)) ||\r\n      (placement === 'bottom' &&\r\n        Math.floor(data.offsets.target.top) < Math.floor(data.offsets.host.bottom));\r\n\r\n    const overflowsLeft = Math.floor(data.offsets.target.left) < Math.floor(boundaries.left);\r\n    const overflowsRight = Math.floor(data.offsets.target.right) > Math.floor(boundaries.right);\r\n    const overflowsTop = Math.floor(data.offsets.target.top) < Math.floor(boundaries.top);\r\n    const overflowsBottom = Math.floor(data.offsets.target.bottom) > Math.floor(boundaries.bottom);\r\n\r\n    const overflowsBoundaries =\r\n      (placement === 'left' && overflowsLeft) ||\r\n      (placement === 'right' && overflowsRight) ||\r\n      (placement === 'top' && overflowsTop) ||\r\n      (placement === 'bottom' && overflowsBottom);\r\n\r\n    // flip the variation if required\r\n    const isVertical = ['top', 'bottom'].indexOf(placement) !== -1;\r\n    const flippedVariation =\r\n      ((isVertical && variation === 'left' && overflowsLeft) ||\r\n        (isVertical && variation === 'right' && overflowsRight) ||\r\n        (!isVertical && variation === 'left' && overflowsTop) ||\r\n        (!isVertical && variation === 'right' && overflowsBottom));\r\n\r\n    if (overlapsRef || overflowsBoundaries || flippedVariation) {\r\n      if (overlapsRef || overflowsBoundaries) {\r\n        placement = flipOrder[index + 1];\r\n      }\r\n\r\n      if (flippedVariation) {\r\n        variation = getOppositeVariation(variation);\r\n      }\r\n\r\n      data.placement = placement + (variation ? ` ${variation}` : '');\r\n\r\n      data.offsets.target = {\r\n        ...data.offsets.target,\r\n        ...getTargetOffsets(\r\n          data.instance.target,\r\n          data.offsets.host,\r\n          data.placement\r\n        )\r\n      };\r\n    }\r\n  });\r\n\r\n  return data;\r\n}\r\n","import {\r\n  computeAutoPlacement,\r\n  getReferenceOffsets,\r\n  getTargetOffsets\r\n} from '../utils';\r\n\r\nimport { Data, Options } from '../models';\r\n\r\nexport function initData(\r\n  targetElement: HTMLElement, hostElement: HTMLElement, position: string, options: Options\r\n): Data {\r\n\r\n  const hostElPosition = getReferenceOffsets(targetElement, hostElement);\r\n\r\n  if (!position.match(/^(auto)*\\s*(left|right|top|bottom)*$/)\r\n    && !position.match(/^(left|right|top|bottom)*(?: (left|right|top|bottom))?\\s*(start|end)*$/)) {\r\n      /* tslint:disable-next-line: no-parameter-reassignment */\r\n      position = 'auto';\r\n    }\r\n\r\n  const placementAuto = !!position.match(/auto/g);\r\n\r\n  // support old placements 'auto left|right|top|bottom'\r\n  let placement = position.match(/auto\\s(left|right|top|bottom)/)\r\n    ? position.split(' ')[1] || 'auto'\r\n    : position;\r\n\r\n  // Normalize placements that have identical main placement and variation (\"right right\" => \"right\").\r\n  const matches = placement.match(/^(left|right|top|bottom)* ?(?!\\1)(left|right|top|bottom)?/);\r\n  if (matches) {\r\n    placement = matches[1] + (matches[2] ? ` ${matches[2]}` : '');\r\n  }\r\n\r\n  // \"left right\", \"top bottom\" etc. placements also considered incorrect.\r\n  if (['left right', 'right left', 'top bottom', 'bottom top'].indexOf(placement) !== -1) {\r\n    placement = 'auto';\r\n  }\r\n\r\n  const targetOffset = getTargetOffsets(targetElement, hostElPosition, placement);\r\n\r\n  placement = computeAutoPlacement(\r\n    placement,\r\n    hostElPosition,\r\n    targetElement,\r\n    hostElement,\r\n    options ? options.allowedPositions : undefined\r\n  );\r\n\r\n  return {\r\n    options,\r\n    instance: {\r\n      target: targetElement,\r\n      host: hostElement,\r\n      arrow: null\r\n    },\r\n    offsets: {\r\n      target: targetOffset,\r\n      host: hostElPosition,\r\n      arrow: null\r\n    },\r\n    positionFixed: false,\r\n    placement,\r\n    placementAuto\r\n  };\r\n}\r\n","import { getBoundaries, isModifierEnabled } from '../utils';\r\nimport { Data } from '../models';\r\n\r\nexport function preventOverflow(data: Data) {\r\n\r\n  if (!isModifierEnabled(data.options, 'preventOverflow')) {\r\n    return data;\r\n  }\r\n\r\n  // NOTE: DOM access here\r\n  // resets the targetOffsets's position so that the document size can be calculated excluding\r\n  // the size of the targetOffsets element itself\r\n  const transformProp = 'transform';\r\n  const targetStyles = data.instance.target.style; // assignment to help minification\r\n  const { top, left, [transformProp]: transform } = targetStyles;\r\n  targetStyles.top = '';\r\n  targetStyles.left = '';\r\n  targetStyles[transformProp] = '';\r\n\r\n  const boundaries = getBoundaries(\r\n    data.instance.target,\r\n    data.instance.host,\r\n    0, // padding\r\n    data.options.modifiers.preventOverflow.boundariesElement || 'scrollParent',\r\n    false // positionFixed\r\n  );\r\n\r\n  // NOTE: DOM access here\r\n  // restores the original style properties after the offsets have been computed\r\n  targetStyles.top = top;\r\n  targetStyles.left = left;\r\n  targetStyles[transformProp] = transform;\r\n\r\n  const order = ['left', 'right', 'top', 'bottom'];\r\n\r\n  const check = {\r\n    primary(placement: string) {\r\n      let value = (data as any).offsets.target[placement];\r\n      if (\r\n        (data as any).offsets.target[placement] < boundaries[placement] &&\r\n        !false // options.escapeWithReference\r\n      ) {\r\n        value = Math.max((data as any).offsets.target[placement], boundaries[placement]);\r\n      }\r\n\r\n      return { [placement]: value };\r\n    },\r\n    secondary(placement: string) {\r\n      const mainSide = placement === 'right' ? 'left' : 'top';\r\n      let value = data.offsets.target[mainSide];\r\n      if (\r\n        (data as any).offsets.target[placement] > boundaries[placement] &&\r\n        !false // escapeWithReference\r\n      ) {\r\n        value = Math.min(\r\n          data.offsets.target[mainSide],\r\n          boundaries[placement] -\r\n          (placement === 'right' ? data.offsets.target.width : data.offsets.target.height)\r\n        );\r\n      }\r\n\r\n      return { [mainSide]: value };\r\n    }\r\n  };\r\n\r\n  let side: string;\r\n\r\n  order.forEach(placement => {\r\n    side = ['left', 'top']\r\n      .indexOf(placement) !== -1\r\n      ? 'primary'\r\n      : 'secondary';\r\n\r\n    data.offsets.target = {\r\n      ...data.offsets.target,\r\n      ...(check as any)[side](placement)\r\n    };\r\n\r\n  });\r\n\r\n  return data;\r\n}\r\n","import { Data } from '../models';\r\n\r\nexport function shift(data: Data): Data {\r\n  const placement = data.placement;\r\n  const basePlacement = placement.split(' ')[0];\r\n  const shiftVariation = placement.split(' ')[1];\r\n\r\n  if (shiftVariation) {\r\n    const { host, target } = data.offsets;\r\n    const isVertical = ['bottom', 'top'].indexOf(basePlacement) !== -1;\r\n    const side = isVertical ? 'left' : 'top';\r\n    const measurement = isVertical ? 'width' : 'height';\r\n\r\n    const shiftOffsets = {\r\n      start: { [side]: host[side] },\r\n      end: {\r\n        [side]: host[side] + host[measurement] - target[measurement]\r\n      }\r\n    };\r\n\r\n    data.offsets.target = {\r\n      ...target, ...{\r\n        [side]: (side === shiftVariation ? (shiftOffsets as any).start[side] : (shiftOffsets as any).end[side])\r\n      }\r\n    };\r\n  }\r\n\r\n  return data;\r\n}\r\n","/**\r\n * @copyright Valor Software\r\n * @copyright Federico Zivolo and contributors\r\n */\r\nimport { Renderer2 } from '@angular/core';\r\n\r\nimport { getOffsets, getReferenceOffsets, updateContainerClass, setStyles } from './utils';\r\n\r\nimport { arrow, flip, preventOverflow, shift, initData } from './modifiers';\r\nimport { Data, Offsets, Options } from './models';\r\n\r\n\r\nexport class Positioning {\r\n  position(hostElement: HTMLElement, targetElement: HTMLElement, round = true): Offsets {\r\n    return this.offset(hostElement, targetElement, false);\r\n  }\r\n\r\n  offset(hostElement: HTMLElement, targetElement: HTMLElement, round = true): Offsets {\r\n    return getReferenceOffsets(targetElement, hostElement);\r\n  }\r\n\r\n  positionElements(\r\n    hostElement: HTMLElement,\r\n    targetElement: HTMLElement,\r\n    position: string,\r\n    appendToBody?: boolean,\r\n    options?: Options\r\n  ): Data {\r\n    const chainOfModifiers = [flip, shift, preventOverflow, arrow];\r\n\r\n    return chainOfModifiers.reduce(\r\n      (modifiedData, modifier) => modifier(modifiedData),\r\n      initData(targetElement, hostElement, position, options)\r\n    );\r\n  }\r\n}\r\n\r\nconst positionService = new Positioning();\r\n\r\nexport function positionElements(\r\n  hostElement: HTMLElement,\r\n  targetElement: HTMLElement,\r\n  placement: string,\r\n  appendToBody?: boolean,\r\n  options?: Options,\r\n  renderer?: Renderer2\r\n): void {\r\n\r\n  const data = positionService.positionElements(\r\n    hostElement,\r\n    targetElement,\r\n    placement,\r\n    appendToBody,\r\n    options\r\n  );\r\n\r\n  const offsets = getOffsets(data);\r\n\r\n  setStyles(targetElement, {\r\n    'will-change': 'transform',\r\n    top: '0px',\r\n    left: '0px',\r\n    transform: `translate3d(${offsets.left}px, ${offsets.top}px, 0px)`\r\n  }, renderer);\r\n\r\n  if (data.instance.arrow) {\r\n    setStyles(data.instance.arrow, data.offsets.arrow, renderer);\r\n  }\r\n\r\n  updateContainerClass(data, renderer);\r\n}\r\n","import { Injectable, ElementRef, RendererFactory2, Inject, PLATFORM_ID, NgZone } from '@angular/core';\r\nimport { isPlatformBrowser } from '@angular/common';\r\n\r\nimport { positionElements } from './ng-positioning';\r\n\r\nimport { fromEvent, merge, of, animationFrameScheduler, Subject, Observable } from 'rxjs';\r\nimport { Options } from './models';\r\n\r\n\r\nexport interface PositioningOptions {\r\n  /** The DOM element, ElementRef, or a selector string of an element which will be moved */\r\n  element?: HTMLElement | ElementRef | string;\r\n\r\n  /** The DOM element, ElementRef, or a selector string of an element which the element will be attached to  */\r\n  target?: HTMLElement | ElementRef | string;\r\n\r\n  /**\r\n   * A string of the form 'vert-attachment horiz-attachment' or 'placement'\r\n   * - placement can be \"top\", \"bottom\", \"left\", \"right\"\r\n   * not yet supported:\r\n   * - vert-attachment can be any of 'top', 'middle', 'bottom'\r\n   * - horiz-attachment can be any of 'left', 'center', 'right'\r\n   */\r\n  attachment?: string;\r\n\r\n  /** A string similar to `attachment`. The one difference is that, if it's not provided,\r\n   * `targetAttachment` will assume the mirror image of `attachment`.\r\n   */\r\n  targetAttachment?: string;\r\n\r\n  /** A string of the form 'vert-offset horiz-offset'\r\n   * - vert-offset and horiz-offset can be of the form \"20px\" or \"55%\"\r\n   */\r\n  offset?: string;\r\n\r\n  /** A string similar to `offset`, but referring to the offset of the target */\r\n  targetOffset?: string;\r\n\r\n  /** If true component will be attached to body */\r\n  appendToBody?: boolean;\r\n}\r\n\r\n\r\n@Injectable()\r\nexport class PositioningService {\r\n  private options: Options;\r\n  private update$$ = new Subject<null>();\r\n  private positionElements = new Map();\r\n  private triggerEvent$: Observable<number|Event>;\r\n  private isDisabled = false;\r\n\r\n  constructor(\r\n    ngZone: NgZone,\r\n    rendererFactory: RendererFactory2,\r\n    @Inject(PLATFORM_ID) platformId: number\r\n  ) {\r\n\r\n    if (isPlatformBrowser(platformId)) {\r\n      ngZone.runOutsideAngular(() => {\r\n        this.triggerEvent$ = merge(\r\n          fromEvent(window, 'scroll', { passive: true }),\r\n          fromEvent(window, 'resize', { passive: true }),\r\n          /* tslint:disable-next-line: deprecation */\r\n          of(0, animationFrameScheduler),\r\n          this.update$$\r\n        );\r\n\r\n        this.triggerEvent$.subscribe(() => {\r\n          if (this.isDisabled) {\r\n            return;\r\n          }\r\n\r\n          this.positionElements\r\n          /* tslint:disable-next-line: no-any */\r\n            .forEach((positionElement: any) => {\r\n              positionElements(\r\n                _getHtmlElement(positionElement.target),\r\n                _getHtmlElement(positionElement.element),\r\n                positionElement.attachment,\r\n                positionElement.appendToBody,\r\n                this.options,\r\n                rendererFactory.createRenderer(null, null)\r\n              );\r\n            });\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  position(options: PositioningOptions): void {\r\n    this.addPositionElement(options);\r\n  }\r\n\r\n  get event$(): Observable<number|Event> {\r\n    return this.triggerEvent$;\r\n  }\r\n\r\n  disable(): void {\r\n    this.isDisabled = true;\r\n  }\r\n\r\n  enable(): void {\r\n    this.isDisabled = false;\r\n  }\r\n\r\n  addPositionElement(options: PositioningOptions): void {\r\n    this.positionElements.set(_getHtmlElement(options.element), options);\r\n  }\r\n\r\n  calcPosition(): void {\r\n    this.update$$.next();\r\n  }\r\n\r\n  deletePositionElement(elRef: ElementRef): void {\r\n    this.positionElements.delete(_getHtmlElement(elRef));\r\n  }\r\n\r\n  setOptions(options: Options) {\r\n    this.options = options;\r\n  }\r\n}\r\n\r\nfunction _getHtmlElement(element: HTMLElement | ElementRef | string): HTMLElement {\r\n  // it means that we got a selector\r\n  if (typeof element === 'string') {\r\n    return document.querySelector(element);\r\n  }\r\n\r\n  if (element instanceof ElementRef) {\r\n    return element.nativeElement;\r\n  }\r\n\r\n  return element;\r\n}\r\n"],"sourceRoot":"webpack:///"}